<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🚗 iCar</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(135deg,#2a2a72,#009ffd);
    color: #333;
    margin: 0;
    padding: 20px;
  }
  .container {
    background-color:#fff;
    border-radius:15px;
    padding:25px;
    max-width:480px;
    margin:0 auto;
    box-shadow:0 4px 20px rgba(0,0,0,0.2);
    text-align:center;
  }
  h1 {color:#007bff;margin-bottom:10px;}
  h2 {color:#444;font-size:1.1em;}
  input, select {width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:5px;box-sizing:border-box;}
  button {background-color:#007bff;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer;margin-top:10px;transition:0.3s;}
  button:hover {background-color:#0056b3;}
  ul {list-style:none;padding:0;text-align:left;}
  li {background-color:#f9f9f9;border-radius:8px;margin-bottom:6px;border:1px solid #ddd;display:flex;align-items:center;padding:6px;font-size:0.92em;gap:8px;}
  li input[type="checkbox"] {flex-shrink:0;width:18px;height:18px;}
  li span {display:inline-block;white-space:normal;flex-grow:1;}
  h3.section-title {color:#007bff;border-bottom:1px solid #ddd;padding-bottom:3px;margin-top:20px;text-align:left;}
  .signature {margin-top:20px;font-size:0.8em;color:#666;}
  #savedVehicles {margin-top:15px;text-align:left;}
  #savedVehicles button {background-color:#555;margin-right:5px;margin-bottom:5px;}
  #savedVehicles button:hover {background-color:#222;}
</style>
</head>
<body>
<div class="container">
<h1>🚗 iCar</h1>
<h2 id="carDetails">Επιλέξτε όχημα για να ξεκινήσετε</h2>

<div>
  <h3 class="section-title">Επιλογή Οχήματος</h3>
  <label for="brand">Μάρκα:</label>
  <select id="brand" onchange="updateModels();">
    <option value="Smart">Smart</option>
    <option value="Audi">Audi</option>
    <option value="Toyota">Toyota</option>
    <option value="Volkswagen">Volkswagen</option>
    <option value="BMW">BMW</option>
  </select>

  <label for="model">Μοντέλο:</label>
  <select id="model"></select>

  <label for="year">Χρονολογία:</label>
  <input type="number" id="year" value="2021" min="1995" max="2035">

  <label for="engine">Μηχανή:</label>
  <input type="text" id="engine" value="1.0">

  <button onclick="saveVehicle()">💾 Αποθήκευση Οχήματος</button>
</div>

<div id="savedVehicles"></div>

<h3 class="section-title">Πληροφορίες Συντήρησης</h3>
<label for="lastServiceDate">Ημερομηνία Τελευταίου Service:</label>
<input type="date" id="lastServiceDate" value="2025-01-01">

<label for="currentKm">Τρέχον Χιλιομετρητή:</label>
<input type="number" id="currentKm" value="10000">

<label for="monthlyKm">Περίπου Km/Μήνα:</label>
<input type="number" id="monthlyKm" value="1000">

<label for="insuranceDate">Ημερομηνία Λήξης Ασφάλειας:</label>
<input type="date" id="insuranceDate" value="2025-10-05">

<label for="kteoDate">Ημερομηνία Επόμενου ΚΤΕΟ:</label>
<input type="date" id="kteoDate" value="2027-01-01">

<button onclick="updateService()">🔧 Ενημέρωση Service</button>

<!-- Κινητήρας -->
<h3 class="section-title">Κινητήρας</h3>
<ul id="engineList"></ul>

<!-- Ελαστικά -->
<h3 class="section-title">Ελαστικά</h3>
<ul id="tiresList"></ul>

<!-- Ασφάλεια -->
<h3 class="section-title">Ασφάλεια</h3>
<ul id="safetyList"></ul>

<!-- Εσωτερικό / Άνεση -->
<h3 class="section-title">Εσωτερικό / Άνεση</h3>
<ul id="interiorList"></ul>

<div class="signature">© 2025 iCar | Service & Maintenance Tracker</div>
</div>

<script>
const modelsByBrand = {
  "Smart":["Fortwo 450","Fortwo 451","Forfour"],
  "Audi":["A1","A3","A4"],
  "Toyota":["Yaris","Corolla","C-HR"],
  "Volkswagen":["Polo","Golf","Tiguan"],
  "BMW":["1 Series","3 Series","X1"]
};

const serviceItems = {
  engine: [
    "Αλλαγή λαδιών κινητήρα",
    "Φίλτρο λαδιού",
    "Φίλτρο αέρα",
    "Μπουζί",
    "Ψυκτικό υγρό / Αντιψυκτικό",
    "Υγρά φρένων",
    "Έλεγχος ιμάντα χρονισμού"
  ],
  tires: [
    "Έλεγχος πίεσης ελαστικών",
    "Ημερομηνία αλλαγής ελαστικών",
    "Έλεγχος φθοράς πέλματος",
    "Ζυγοστάθμιση / Ευθυγράμμιση"
  ],
  safety: [
    "Φρένα (δίσκοι/τακάκια)",
    "Υαλοκαθαριστήρες",
    "Φώτα εμπρός/πίσω",
    "Μπαταρία / Τάση",
    "Σύστημα ABS / ESP"
  ],
  interior: [
    "Φίλτρο καμπίνας",
    "Κλιματισμός - A/C",
    "Ζώνες ασφαλείας",
    "Συστήματα ειδοποίησης / Σέρβις ενδείξεις"
  ]
};

function updateModels(){
  const brand=document.getElementById("brand").value;
  const modelSelect=document.getElementById("model");
  modelSelect.innerHTML="";
  modelsByBrand[brand].forEach(m=>{
    const opt=document.createElement("option");
    opt.value=m; opt.textContent=m;
    modelSelect.appendChild(opt);
  });
}

function createCheckboxList(containerId, items){
  const container=document.getElementById(containerId);
  container.innerHTML="";
  items.forEach(text=>{
    const li=document.createElement("li");
    const checkbox=document.createElement("input");
    checkbox.type="checkbox";
    const span=document.createElement("span");
    span.textContent=text;
    li.appendChild(checkbox);
    li.appendChild(span);
    container.appendChild(li);
  });
}

function saveVehicle(){
  const vehicle = {
    brand: document.getElementById("brand").value,
    model: document.getElementById("model").value,
    year: document.getElementById("year").value,
    engine: document.getElementById("engine").value,
    lastServiceDate: document.getElementById("lastServiceDate").value,
    currentKm: document.getElementById("currentKm").value,
    monthlyKm: document.getElementById("monthlyKm").value,
    insuranceDate: document.getElementById("insuranceDate").value,
    kteoDate: document.getElementById("kteoDate").value,
    checkboxes: getCheckboxStates()
  };
  let vehicles=JSON.parse(localStorage.getItem("vehicles")||"[]");
  vehicles.push(vehicle);
  localStorage.setItem("vehicles",JSON.stringify(vehicles));
  renderSavedVehicles();
  loadVehicle(vehicles.length-1);
}

function renderSavedVehicles(){
  const container=document.getElementById("savedVehicles");
  container.innerHTML="";
  const vehicles=JSON.parse(localStorage.getItem("vehicles")||"[]");
  vehicles.forEach((v,index)=>{
    const btn=document.createElement("button");
    btn.textContent=`${v.brand} ${v.model} (${v.year})`;
    btn.onclick=()=>loadVehicle(index);
    container.appendChild(btn);
  });
}

function loadVehicle(index){
  const vehicles=JSON.parse(localStorage.getItem("vehicles")||"[]");
  if(!vehicles[index]) return;
  const v=vehicles[index];
  document.getElementById("brand").value=v.brand;
  updateModels();
  document.getElementById("model").value=v.model;
  document.getElementById("year").value=v.year;
  document.getElementById("engine").value=v.engine;
  document.getElementById("lastServiceDate").value=v.lastServiceDate;
  document.getElementById("currentKm").value=v.currentKm;
  document.getElementById("monthlyKm").value=v.monthlyKm;
  document.getElementById("insuranceDate").value=v.insuranceDate;
  document.getElementById("kteoDate").value=v.kteoDate;
  setCheckboxStates(v.checkboxes);
  document.getElementById("carDetails").textContent=`${v.brand} ${v.model} - ${v.year} (${v.engine})`;
}

function getCheckboxStates(){
  const allLists=["engineList","tiresList","safetyList","interiorList"];
  let states={};
  allLists.forEach(listId=>{
    const container=document.getElementById(listId);
    states[listId]=[];
    container.querySelectorAll("input[type=checkbox]").forEach(chk=>states[listId].push(chk.checked));
  });
  return states;
}

function setCheckboxStates(states){
  for(const listId in states){
    const container=document.getElementById(listId);
    container.querySelectorAll("input[type=checkbox]").forEach((chk,i)=>{
      chk.checked=states[listId][i];
    });
  }
}

function updateService(){ alert("✅ Οι πληροφορίες Service ενημερώθηκαν!"); }

window.onload=function(){
  updateModels();
  createCheckboxList("engineList",serviceItems.engine);
  createCheckboxList("tiresList",serviceItems.tires);
  createCheckboxList("safetyList",serviceItems.safety);
  createCheckboxList("interiorList",serviceItems.interior);
  renderSavedVehicles();
};
</script>
</body>
</html>