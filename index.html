<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iCar</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to right, #e3f2fd, #f1f8e9);
    margin: 0;
    padding: 0;
    color: #333;
  }

  header {
    background-color: #2196f3;
    color: white;
    text-align: center;
    padding: 15px 0;
    font-size: 26px;
    font-weight: bold;
    letter-spacing: 2px;
  }

  .container {
    max-width: 800px;
    margin: 20px auto;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
  }

  h2 {
    color: #1976d2;
    margin-top: 30px;
  }

  label, select, input[type="text"], button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 8px;
    font-size: 16px;
  }

  select, input[type="text"] {
    border: 1px solid #ccc;
    border-radius: 6px;
  }

  button {
    background-color: #1976d2;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }

  button:hover {
    background-color: #0d47a1;
  }

  .checkbox-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border: 1px solid #ddd;
    padding: 8px;
    border-radius: 8px;
    margin: 5px 0;
    transition: background-color 0.3s;
  }

  .checkbox-item.checked {
    background-color: #c8e6c9;
  }

  .checkbox-item input[type="text"] {
    width: 150px;
    margin-left: 10px;
  }

  footer {
    text-align: center;
    margin-top: 20px;
    color: #666;
  }
</style>
</head>
<body>

<header>ğŸš— iCar Service Manager</header>

<div class="container">
  <h2>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎŸÏ‡Î®Î¼Î±Ï„Î¿Ï‚</h2>
  <label>ÎœÎ¬ÏÎºÎ±:</label>
  <select id="brand">
    <option value="">--Î•Ï€Î¹Î»Î­Î¾Ï„Îµ ÎœÎ¬ÏÎºÎ±--</option>
    <option value="Audi">Audi</option>
    <option value="BMW">BMW</option>
    <option value="Mercedes">Mercedes</option>
    <option value="Smart">Smart</option>
    <option value="Toyota">Toyota</option>
    <option value="Peugeot">Peugeot</option>
  </select>

  <label>ÎœÎ¿Î½Ï„Î­Î»Î¿:</label>
  <select id="model">
    <option value="">--Î•Ï€Î¹Î»Î­Î¾Ï„Îµ ÎœÎ¿Î½Ï„Î­Î»Î¿--</option>
  </select>

  <label>Î§ÏÎ¿Î½Î¿Î»Î¿Î³Î¯Î±:</label>
  <input type="text" id="year" placeholder="Ï€.Ï‡. 2018">

  <button id="saveVehicle">Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÎŸÏ‡Î®Î¼Î±Ï„Î¿Ï‚</button>

  <h2>Î‘Ï€Î¿Î¸Î·ÎºÎµÏ…Î¼Î­Î½Î± ÎŸÏ‡Î®Î¼Î±Ï„Î±</h2>
  <div id="vehicleList"></div>

  <h2>Î£Î·Î¼ÎµÎ¯Î± Î•Î»Î­Î³Ï‡Î¿Ï…</h2>
  <div id="serviceList"></div>
</div>

<footer>by MikeMigk</footer>

<script>
const modelOptions = {
  Audi: ["A3", "A4", "A6", "Q2", "Q3", "Q5"],
  BMW: ["1 Series", "3 Series", "5 Series", "X1", "X3"],
  Mercedes: ["A-Class", "C-Class", "E-Class", "GLA", "GLC"],
  Smart: ["Fortwo", "Forfour", "Roadster"],
  Toyota: ["Yaris", "Corolla", "Aygo", "C-HR"],
  Peugeot: ["208", "308", "3008", "2008"]
};

const serviceItems = [
  "Î‘Î»Î»Î±Î³Î® Î»Î±Î´Î¹ÏÎ½", "Î¦Î¯Î»Ï„ÏÎ¿ Î»Î±Î´Î¹Î¿Ï", "Î¦Î¯Î»Ï„ÏÎ¿ Î±Î­ÏÎ±", "Î¦Î¯Î»Ï„ÏÎ¿ ÎºÎ±Î¼Ï€Î¯Î½Î±Ï‚", 
  "Î¦Î¯Î»Ï„ÏÎ¿ Î²ÎµÎ½Î¶Î¯Î½Î·Ï‚", "Î¥Î³ÏÎ¬ Ï†ÏÎ­Î½Ï‰Î½", "Î¤Î±ÎºÎ¬ÎºÎ¹Î±", "Î”Î¯ÏƒÎºÎ¿Î¹ Ï†ÏÎ­Î½Ï‰Î½",
  "Î•Î»Î±ÏƒÏ„Î¹ÎºÎ¬", "Î Î¯ÎµÏƒÎ· Î±Î­ÏÎ± ÎµÎ»Î±ÏƒÏ„Î¹ÎºÏÎ½", "Î‘Î»Î»Î±Î³Î® ÎµÎ»Î±ÏƒÏ„Î¹ÎºÏÎ½",
  "ÎœÏ€Î±Ï„Î±ÏÎ¯Î±", "Î¥Î±Î»Î¿ÎºÎ±Î¸Î±ÏÎ¹ÏƒÏ„Î®ÏÎµÏ‚", "Î¨Ï…ÎºÏ„Î¹ÎºÏŒ Ï…Î³ÏÏŒ", "Î™Î¼Î¬Î½Ï„Î±Ï‚ Ï‡ÏÎ¿Î½Î¹ÏƒÎ¼Î¿Ï",
  "Î¦ÏÏ„Î±", "Î£Ï„Î¬Î¸Î¼Î· Î»Î±Î´Î¹Î¿Ï", "ÎšÎ»Î¹Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚", "Î£ÏÏƒÏ„Î·Î¼Î± Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚",
  "Î‘Î¼Î¿ÏÏ„Î¹ÏƒÎ­Ï", "Î•Î¾Î¬Ï„Î¼Î¹ÏƒÎ·", "Î‘Î½Î¬ÏÏ„Î·ÏƒÎ·", "Î”Î¹Î±ÏÏÎ¿Î­Ï‚ Î»Î±Î´Î¹Î¿Ï", "Î£ÏÏƒÏ„Î·Î¼Î± Ï€Î­Î´Î·ÏƒÎ·Ï‚"
];

// Ï†Î¿ÏÏ„ÏÎ½ÎµÎ¹ Î¼Î¿Î½Ï„Î­Î»Î± Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î· Î¼Î¬ÏÎºÎ±
document.getElementById("brand").addEventListener("change", function() {
  const models = modelOptions[this.value] || [];
  const modelSelect = document.getElementById("model");
  modelSelect.innerHTML = "<option value=''>--Î•Ï€Î¹Î»Î­Î¾Ï„Îµ ÎœÎ¿Î½Ï„Î­Î»Î¿--</option>";
  models.forEach(m => {
    const opt = document.createElement("option");
    opt.value = m;
    opt.textContent = m;
    modelSelect.appendChild(opt);
  });
});

// Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î»Î¯ÏƒÏ„Î±Ï‚ ÏƒÎ­ÏÎ²Î¹Ï‚
const serviceList = document.getElementById("serviceList");
serviceItems.forEach(item => {
  const div = document.createElement("div");
  div.className = "checkbox-item";
  div.innerHTML = `
    <label><input type="checkbox"> ${item}</label>
    <input type="text" placeholder="Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±/Î£Ï‡ÏŒÎ»Î¹Î¿">
  `;
  serviceList.appendChild(div);
});

// Î§ÏÏ‰Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚ Ï€ÏÎ±ÏƒÎ¯Î½Î¿Ï… ÏŒÏ„Î±Î½ Ï„ÏƒÎµÎºÎ¬ÏÎµÏ„Î±Î¹
serviceList.addEventListener("change", e => {
  if (e.target.type === "checkbox") {
    const parent = e.target.closest(".checkbox-item");
    parent.classList.toggle("checked", e.target.checked);
    saveCurrentService();
  }
});

// Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î¿Ï‡Î®Î¼Î±Ï„Î¿Ï‚
document.getElementById("saveVehicle").addEventListener("click", () => {
  const brand = document.getElementById("brand").value;
  const model = document.getElementById("model").value;
  const year = document.getElementById("year").value;
  if (!brand || !model || !year) return alert("Î£Ï…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ ÏŒÎ»Î± Ï„Î± Ï€ÎµÎ´Î¯Î±!");

  const vehicles = JSON.parse(localStorage.getItem("vehicles") || "[]");
  vehicles.push({ brand, model, year, services: getCurrentServiceData() });
  localStorage.setItem("vehicles", JSON.stringify(vehicles));
  loadVehicles();
});

// Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·Ï‚ ÏƒÎ­ÏÎ²Î¹Ï‚
function getCurrentServiceData() {
  const data = [];
  document.querySelectorAll(".checkbox-item").forEach(item => {
    const checkbox = item.querySelector("input[type='checkbox']");
    const note = item.querySelector("input[type='text']").value;
    data.push({ name: item.innerText.trim(), checked: checkbox.checked, note });
  });
  return data;
}

function saveCurrentService() {
  const selectedVehicle = document.querySelector(".vehicle-item.active");
  if (!selectedVehicle) return;
  const name = selectedVehicle.dataset.name;
  const vehicles = JSON.parse(localStorage.getItem("vehicles") || "[]");
  const v = vehicles.find(v => v.brand + v.model + v.year === name);
  if (v) {
    v.services = getCurrentServiceData();
    localStorage.setItem("vehicles", JSON.stringify(vehicles));
  }
}

// Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Î¼Î­Î½Ï‰Î½ Î¿Ï‡Î·Î¼Î¬Ï„Ï‰Î½
function loadVehicles() {
  const vehicles = JSON.parse(localStorage.getItem("vehicles") || "[]");
  const list = document.getElementById("vehicleList");
  list.innerHTML = "";
  vehicles.forEach(v => {
    const div = document.createElement("div");
    div.className = "vehicle-item";
    div.dataset.name = v.brand + v.model + v.year;
    div.textContent = `${v.brand} ${v.model} (${v.year})`;
    div.style.cursor = "pointer";
    div.onclick = () => {
      document.querySelectorAll(".vehicle-item").forEach(i => i.classList.remove("active"));
      div.classList.add("active");
      loadServiceData(v.services);
    };
    list.appendChild(div);
  });
}

function loadServiceData(services) {
  const items = document.querySelectorAll(".checkbox-item");
  items.forEach((item, i) => {
    const checkbox = item.querySelector("input[type='checkbox']");
    const note = item.querySelector("input[type='text']");
    if (services[i]) {
      checkbox.checked = services[i].checked;
      note.value = services[i].note;
      item.classList.toggle("checked", checkbox.checked);
    }
  });
}

loadVehicles();
</script>

</body>
</html>